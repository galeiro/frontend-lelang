{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/frontend-lelang/src/pages/detail.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { convert } from \"rupiah-format\";\nimport { base_url, getDetailBarang, headers, token } from \"../api/api_service\";\nimport { month } from \"../App\";\nimport Navbar from \"../component/navbar\";\nimport Padding from \"../component/padding\";\nimport Title from \"../component/title\";\nimport { CheckIcon, PencilIcon, TrashIcon, XIcon } from \"@heroicons/react/outline\";\nimport EditPelelangan from \"../component/dialog/edit_pelelangan\";\nimport jwtDecode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Detail() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    data\n  } = useQuery(\"detail_barang\", () => getDetailBarang(id), {\n    refetchInterval: 3000\n  });\n  let officer_id = jwtDecode(token).id;\n  const [img, setImg] = useState();\n  const [open, setOpen] = useState(false);\n  const [imgData, setImgData] = useState();\n  const [msgImage, setMsgImage] = useState();\n\n  const getImage = e => {\n    if (e.target.files && e.target.files[0]) {\n      if (e.target.files[0].type === \"image/jpeg\" || e.target.files[0].type === \"image/jpg\" || e.target.files[0].type === \"image/png\") {\n        setImg(URL.createObjectURL(e.target.files[0]));\n        setImgData(e.target.files[0]);\n      } else {\n        setMsgImage(\"Hanya file ber-ekstensi .jpeg, .jpg, .png\");\n      }\n    }\n  };\n\n  async function updateImage() {\n    try {\n      let url = `${base_url}/barang/update/${id}`;\n      let formdata = new FormData();\n      formdata.append(\"fotoBarang\", imgData);\n      await axios.put(url, formdata, headers);\n      setImg();\n    } catch (er) {\n      console.log(er);\n    }\n  }\n\n  const navigate = useNavigate();\n\n  async function deleteLelang() {\n    try {\n      let url = `${base_url}/barang/delete/${id}`;\n      await axios.delete(url, headers);\n      navigate(-1);\n    } catch (er) {\n      console.log(er);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(EditPelelangan, {\n      open: open,\n      setOpen: setOpen,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Padding, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-full pr-24\",\n          children: data === null || data === void 0 ? void 0 : data.map((i, detail) => {\n            let date = new Date(i.tanggal);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-20 mt-10 lg:flex space-x-9\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  backgroundImage: `url(${img === undefined ? i.fotoBarang : img})`\n                },\n                className: \"bg-gray-500 lg:h-72 h-44 w-full lg:w-2/4 px-2 py-3 flex justify-end rounded-lg bg-cover\",\n                children: officer_id === i.idOfficer && (img === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-7\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    accept: \".jpg, .jpeg, .png\",\n                    onChange: getImage,\n                    type: \"file\",\n                    className: \"w-7 absolute cursor-pointer opacity-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\",\n                    children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-7 flex space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: updateImage,\n                    className: \"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\",\n                    children: /*#__PURE__*/_jsxDEV(CheckIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setImg(),\n                    className: \"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\",\n                    children: /*#__PURE__*/_jsxDEV(XIcon, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2/4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-6 w-full \",\n                  children: [/*#__PURE__*/_jsxDEV(Title, {\n                    text: i.namaBarang\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this), officer_id === i.idOfficer && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between w-1/4  h-10\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setOpen(true),\n                      className: \"hover:bg-navbar rounded-full px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(PencilIcon, {\n                        className: \"h-4 w-4 text-[#A1A1A1]\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: deleteLelang,\n                      className: \"hover:bg-navbar rounded-full px-3 py-2\",\n                      children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n                        className: \"h-4 w-4 text-[#A1A1A1]\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-5 mb-5\",\n                  children: i.deskripsi\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Title, {\n                  text: \"Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"lg:text-sm text-xs mt-3\",\n                  children: [\"Dimulai pada\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: [i.jam.substring(0, i.jam.length - 3), \" WIB,\", \" \", date.getDate(), \" \", month[date.getMonth()], \" \", date.getFullYear()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"Harga awal\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: convert(i.hargaAwal).substring(0, convert(i.hargaAwal).length - 3)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"Kategori\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: i.kategori\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"Petugas\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: i.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"Status \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-semibold\",\n                    children: i.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 30\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), officer_id === i.idOfficer ? i.status === \"closed\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\",\n                    children: \"Buka Pelelangan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: async () => {\n                      try {\n                        let url = `${base_url}/lelang/update/${id}`;\n                        await axios.put(url, {\n                          status: \"opened\"\n                        }, headers);\n                        navigate(`/penawaran/${id}`);\n                      } catch (er) {\n                        console.log(er);\n                      }\n                    },\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\",\n                    children: \"Buka Pelelangan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\",\n                    children: \"See\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: async () => {\n                      try {\n                        navigate(`/penawaran/${id}`);\n                      } catch (er) {\n                        console.log(er);\n                      }\n                    },\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\",\n                    children: \"See\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 25\n                }, this) : i.status === \"opened\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\",\n                    children: \"See\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: async () => {\n                      try {\n                        navigate(`/penawaran/${id}`);\n                      } catch (er) {\n                        console.log(er);\n                      }\n                    },\n                    className: \"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\",\n                    children: \"See\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)]\n            }, detail, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Detail, \"a+mjCbdrz7SvZJErQ6q8rNiVdbY=\", false, function () {\n  return [useParams, useQuery, useNavigate];\n});\n\n_c = Detail;\n\nvar _c;\n\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"sources":["/home/ubuntu/frontend-lelang/src/pages/detail.jsx"],"names":["axios","React","useState","useQuery","useNavigate","useParams","convert","base_url","getDetailBarang","headers","token","month","Navbar","Padding","Title","CheckIcon","PencilIcon","TrashIcon","XIcon","EditPelelangan","jwtDecode","Detail","id","data","refetchInterval","officer_id","img","setImg","open","setOpen","imgData","setImgData","msgImage","setMsgImage","getImage","e","target","files","type","URL","createObjectURL","updateImage","url","formdata","FormData","append","put","er","console","log","navigate","deleteLelang","delete","map","i","detail","date","Date","tanggal","backgroundImage","undefined","fotoBarang","idOfficer","namaBarang","deskripsi","jam","substring","length","getDate","getMonth","getFullYear","hargaAwal","kategori","username","status"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { convert } from \"rupiah-format\";\nimport { base_url, getDetailBarang, headers, token } from \"../api/api_service\";\nimport { month } from \"../App\";\nimport Navbar from \"../component/navbar\";\nimport Padding from \"../component/padding\";\nimport Title from \"../component/title\";\nimport {\n  CheckIcon,\n  PencilIcon,\n  TrashIcon,\n  XIcon,\n} from \"@heroicons/react/outline\";\nimport EditPelelangan from \"../component/dialog/edit_pelelangan\";\nimport jwtDecode from \"jwt-decode\";\n\nexport default function Detail() {\n  const { id } = useParams();\n  const { data } = useQuery(\"detail_barang\", () => getDetailBarang(id), {\n    refetchInterval: 3000,\n  });\n  let officer_id = jwtDecode(token).id;\n  const [img, setImg] = useState();\n  const [open, setOpen] = useState(false);\n  const [imgData, setImgData] = useState();\n  const [msgImage, setMsgImage] = useState();\n  const getImage = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      if (\n        e.target.files[0].type === \"image/jpeg\" ||\n        e.target.files[0].type === \"image/jpg\" ||\n        e.target.files[0].type === \"image/png\"\n      ) {\n        setImg(URL.createObjectURL(e.target.files[0]));\n        setImgData(e.target.files[0]);\n      } else {\n        setMsgImage(\"Hanya file ber-ekstensi .jpeg, .jpg, .png\");\n      }\n    }\n  };\n\n  async function updateImage() {\n    try {\n      let url = `${base_url}/barang/update/${id}`;\n      let formdata = new FormData();\n      formdata.append(\"fotoBarang\", imgData);\n      await axios.put(url, formdata, headers);\n      setImg();\n    } catch (er) {\n      console.log(er);\n    }\n  }\n  const navigate = useNavigate();\n\n  async function deleteLelang() {\n    try {\n      let url = `${base_url}/barang/delete/${id}`;\n      await axios.delete(url, headers);\n      navigate(-1);\n    } catch (er) {\n      console.log(er);\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <EditPelelangan open={open} setOpen={setOpen} id={id} />\n      <Padding>\n        <div className=\"flex\">\n          <Navbar />\n          <div className=\"flex flex-col w-full pr-24\">\n            {data?.map((i, detail) => {\n              let date = new Date(i.tanggal);\n              return (\n                <div key={detail} className=\"pl-20 mt-10 lg:flex space-x-9\">\n                  <div\n                    style={{\n                      backgroundImage: `url(${\n                        img === undefined ? i.fotoBarang : img\n                      })`,\n                    }}\n                    className=\"bg-gray-500 lg:h-72 h-44 w-full lg:w-2/4 px-2 py-3 flex justify-end rounded-lg bg-cover\"\n                  >\n                    {officer_id === i.idOfficer &&\n                      (img === undefined ? (\n                        <div className=\"h-7\">\n                          <input\n                            accept=\".jpg, .jpeg, .png\"\n                            onChange={getImage}\n                            type=\"file\"\n                            className=\"w-7 absolute cursor-pointer opacity-0\"\n                          />\n                          <button className=\"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\">\n                            <PencilIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      ) : (\n                        <div className=\"h-7 flex space-x-2\">\n                          <button\n                            onClick={updateImage}\n                            className=\"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\"\n                          >\n                            <CheckIcon className=\"h-4 w-4\" />\n                          </button>\n                          <button\n                            onClick={() => setImg()}\n                            className=\"bg-black h-7 w-7 rounded-full bg-opacity-50 flex justify-center items-center\"\n                          >\n                            <XIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      ))}\n                  </div>\n                  <div className=\"w-2/4\">\n                    <div className=\"flex space-x-6 w-full \">\n                      <Title text={i.namaBarang} />\n                      {officer_id === i.idOfficer && (\n                        <div className=\"flex justify-between w-1/4  h-10\">\n                          <button\n                            onClick={() => setOpen(true)}\n                            className=\"hover:bg-navbar rounded-full px-3 py-2\"\n                          >\n                            <PencilIcon className=\"h-4 w-4 text-[#A1A1A1]\" />\n                          </button>\n                          <button\n                            onClick={deleteLelang}\n                            className=\"hover:bg-navbar rounded-full px-3 py-2\"\n                          >\n                            <TrashIcon className=\"h-4 w-4 text-[#A1A1A1]\" />\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                    <p className=\"text-sm mt-5 mb-5\">{i.deskripsi}</p>\n                    <Title text={\"Info\"} />\n                    <p className=\"lg:text-sm text-xs mt-3\">\n                      Dimulai pada{\" \"}\n                      <span className=\"font-semibold\">\n                        {i.jam.substring(0, i.jam.length - 3)} WIB,{\" \"}\n                        {date.getDate()} {month[date.getMonth()]}{\" \"}\n                        {date.getFullYear()}\n                      </span>\n                    </p>\n                    <p className=\"text-sm mt-1\">\n                      Harga awal{\" \"}\n                      <span className=\"font-semibold\">\n                        {convert(i.hargaAwal).substring(\n                          0,\n                          convert(i.hargaAwal).length - 3\n                        )}\n                      </span>\n                    </p>\n                    <p className=\"text-sm mt-1\">\n                      Kategori{\" \"}\n                      <span className=\"font-semibold\">{i.kategori}</span>\n                    </p>\n                    <p className=\"text-sm mt-1\">\n                      Petugas{\" \"}\n                      <span className=\"font-semibold\">{i.username}</span>\n                    </p>\n                    <p className=\"text-sm mt-1\">\n                      Status <span className=\"font-semibold\">{i.status}</span>\n                    </p>\n                    {officer_id === i.idOfficer ? (\n                      i.status === \"closed\" ? (\n                        <div className=\"mt-3\">\n                          <button className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\">\n                            Buka Pelelangan\n                          </button>\n                          <button\n                            onClick={async () => {\n                              try {\n                                let url = `${base_url}/lelang/update/${id}`;\n                                await axios.put(\n                                  url,\n                                  {\n                                    status: \"opened\",\n                                  },\n                                  headers\n                                );\n\n                                navigate(`/penawaran/${id}`);\n                              } catch (er) {\n                                console.log(er);\n                              }\n                            }}\n                            className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\"\n                          >\n                            Buka Pelelangan\n                          </button>\n                        </div>\n                      ) : (\n                        <div className=\"mt-3\">\n                          <button className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\">\n                            See\n                          </button>\n                          <button\n                            onClick={async () => {\n                              try {\n                                navigate(`/penawaran/${id}`);\n                              } catch (er) {\n                                console.log(er);\n                              }\n                            }}\n                            className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\"\n                          >\n                            See\n                          </button>\n                        </div>\n                      )\n                    ) : (\n                      i.status === \"opened\" && (\n                        <div className=\"mt-3\">\n                          <button className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md absolute blur opacity-30\">\n                            See\n                          </button>\n                          <button\n                            onClick={async () => {\n                              try {\n                                navigate(`/penawaran/${id}`);\n                              } catch (er) {\n                                console.log(er);\n                              }\n                            }}\n                            className=\"bg-blue-theme text-sm px-5 font-semibold py-1 rounded-md relative transition ease-in-out hover:scale-110\"\n                          >\n                            See\n                          </button>\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </Padding>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}